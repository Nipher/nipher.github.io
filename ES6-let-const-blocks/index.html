<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head next-head"/><title class="next-head">ES6 - Let, Const &amp; Blocks</title><meta name="description" content="Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo." class="next-head"/><meta name="viewport" content="initial-scale=1.0, width=device-width" class="next-head"/><meta name="twitter:card" content="summary_large_image" class="next-head"/><meta name="twitter:site" content="@nipher_jonas" class="next-head"/><meta name="twitter:title" content="ES6 - Let, Const &amp; Blocks" class="next-head"/><meta name="twitter:description" content="Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo." class="next-head"/><meta property="twitter:image:src" content="https://nipher.io/static/site.png" class="next-head"/><meta property="fb:admins" content="100001388969005" class="next-head"/><meta property="og:url" content="https://nipher.io/ES6-let-const-blocks" class="next-head"/><meta property="og:title" content="ES6 - Let, Const &amp; Blocks" class="next-head"/><meta property="og:image" content="https://nipher.io/static/site.png" class="next-head"/><meta property="og:description" content="Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo." class="next-head"/><meta property="og:site_name" content="Nipher" class="next-head"/><meta itemProp="name" content="ES6 - Let, Const &amp; Blocks" class="next-head"/><meta itemProp="description" content="Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo." class="next-head"/><meta itemProp="image" content="https://nipher.io/static/site.png" class="next-head"/><link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon" class="next-head"/><link rel="apple-touch-icon" sizes="57x57" href="/static/apple-touch-icon-57x57.png" class="next-head"/><link rel="apple-touch-icon" sizes="60x60" href="/static/apple-touch-icon-60x60.png" class="next-head"/><link rel="apple-touch-icon" sizes="72x72" href="/static/apple-touch-icon-72x72.png" class="next-head"/><link rel="apple-touch-icon" sizes="76x76" href="/static/apple-touch-icon-76x76.png" class="next-head"/><link rel="apple-touch-icon" sizes="114x114" href="/static/apple-touch-icon-114x114.png" class="next-head"/><link rel="apple-touch-icon" sizes="120x120" href="/static/apple-touch-icon-120x120.png" class="next-head"/><link rel="apple-touch-icon" sizes="144x144" href="/static/apple-touch-icon-144x144.png" class="next-head"/><link rel="apple-touch-icon" sizes="152x152" href="/static/apple-touch-icon-152x152.png" class="next-head"/><link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon-180x180.png" class="next-head"/><link rel="icon" type="image/png" href="/static/favicon-16x16.png" sizes="16x16" class="next-head"/><link rel="icon" type="image/png" href="/static/favicon-32x32.png" sizes="32x32" class="next-head"/><link rel="icon" type="image/png" href="/static/favicon-96x96.png" sizes="96x96" class="next-head"/><link rel="icon" type="image/png" href="/static/android-chrome-192x192.png" sizes="192x192" class="next-head"/><meta name="msapplication-square70x70logo" content="/static/smalltile.png" class="next-head"/><meta name="msapplication-square150x150logo" content="/static/mediumtile.png" class="next-head"/><meta name="msapplication-square310x310logo" content="/static/largetile.png" class="next-head"/><link rel="preload" href="/_next/ec771e22-ba2e-43ea-b873-64124f96755f/page/post.js" as="script"/><link rel="preload" href="/_next/ec771e22-ba2e-43ea-b873-64124f96755f/page/_app.js" as="script"/><link rel="preload" href="/_next/ec771e22-ba2e-43ea-b873-64124f96755f/page/_error.js" as="script"/><link rel="preload" href="/_next/webpack/chunks/components_social_share_0a49c1be05a44c2c22400be9bd51a7a9-ba5984ee65adff24ec55.js" as="script"/><link rel="preload" href="/_next/static/commons/main-eb8ad50e20ad6af21250.js" as="script"/><style id="__jsx-1204780744">.logo{position:relative;height:50px;width:50px;left:0;top:0;opacity:1;cursor:pointer;}</style><style id="__jsx-1462158505">.logo-piece.polygon-1 {
      clip-path: polygon(0% 0%, 33.3% 33.3%, 33.3% 0%);
      -webkit-clip-path: polygon(0% 0%, 33.3% 33.3%, 33.3% 0%);
      background: #333;
    }
.logo-piece.polygon-2 {
      clip-path: polygon(0% 0%, 0% 33.3%, 33.3% 33.3%);
      -webkit-clip-path: polygon(0% 0%, 0% 33.3%, 33.3% 33.3%);
      background: #333;
    }
.logo-piece.polygon-3 {
      clip-path: polygon(0% 33.3%, 33.3% 33.3%, 33.3% 66.6%);
      -webkit-clip-path: polygon(0% 33.3%, 33.3% 33.3%, 33.3% 66.6%);
      background: #333;
    }
.logo-piece.polygon-4 {
      clip-path: polygon(33.3% 0%, 66.6% 33.3%, 33.3% 33.3%);
      -webkit-clip-path: polygon(33.3% 0%, 66.6% 33.3%, 33.3% 33.3%);
      background: #333;
    }
.logo-piece.polygon-5 {
      clip-path: polygon(33.3% 33.3%, 66.6% 66.6%, 33.3% 66.6%);
      -webkit-clip-path: polygon(33.3% 33.3%, 66.6% 66.6%, 33.3% 66.6%);
      background: #333;
    }
.logo-piece.polygon-6 {
      clip-path: polygon(33.3% 33.3%, 66.6% 66.6%, 66.6% 33.3%);
      -webkit-clip-path: polygon(33.3% 33.3%, 66.6% 66.6%, 66.6% 33.3%);
      background: #333;
    }
.logo-piece.polygon-7 {
      clip-path: polygon(33.3% 66.6%, 66.6% 66.6%, 66.6% 100%);
      -webkit-clip-path: polygon(33.3% 66.6%, 66.6% 66.6%, 66.6% 100%);
      background: #333;
    }
.logo-piece.polygon-8 {
      clip-path: polygon(66.6% 33.3%, 66.6% 66.6%, 100% 66.6%);
      -webkit-clip-path: polygon(66.6% 33.3%, 66.6% 66.6%, 100% 66.6%);
      background: #333;
    }
.logo-piece.polygon-9 {
      clip-path: polygon(66.6% 66.6%, 66.6% 100%, 100% 100%);
      -webkit-clip-path: polygon(66.6% 66.6%, 66.6% 100%, 100% 100%);
      background: #333;
    }
.logo-piece.polygon-10 {
      clip-path: polygon(66.6% 66.6%, 100% 66.6%, 100% 100%);
      -webkit-clip-path: polygon(66.6% 66.6%, 100% 66.6%, 100% 100%);
      background: #333;
    }
.logo-piece.polygon-11 {
      clip-path: polygon(66.6% 0%, 100% 0%, 100% 33.3%);
      -webkit-clip-path: polygon(66.6% 0%, 100% 0%, 100% 33.3%);
      background: #333;
    }
.logo-piece.polygon-12 {
      clip-path: polygon(0% 66.6%, 33.3% 100%, 0% 100%);
      -webkit-clip-path: polygon(0% 66.6%, 33.3% 100%, 0% 100%);
      background: #333;
    }
 .photography-piece.polygon-1 {
      clip-path: polygon(30% 0%, 45% 56%, 63% 0%);
      -webkit-clip-path: polygon(30% 0%, 45% 56%, 63% 0%);
      background: #333;
    }
.photography-piece.polygon-2 {
      clip-path: polygon(0% 0%, 44% 56%, 29% 0%);
      -webkit-clip-path: polygon(0% 0%, 44% 56%, 29% 0%);
      background: #333;
    }
.photography-piece.polygon-3 {
      clip-path: polygon(64% 0%, 47% 52%, 99% 0%);
      -webkit-clip-path: polygon(64% 0%, 47% 52%, 99% 0%);
      background: #333;
    }
.photography-piece.polygon-4 {
      clip-path: polygon(47% 54%, 100% 32%, 100% 0%);
      -webkit-clip-path: polygon(47% 54%, 100% 32%, 100% 0%);
      background: #333;
    }
.photography-piece.polygon-5 {
      clip-path: polygon(100% 34%, 50% 54%, 100% 60%);
      -webkit-clip-path: polygon(100% 34%, 50% 54%, 100% 60%);
      background: #333;
    }
.photography-piece.polygon-6 {
      clip-path: polygon(100% 62%, 52% 55%, 100% 99%);
      -webkit-clip-path: polygon(100% 62%, 52% 55%, 100% 99%);
      background: #333;
    }
.photography-piece.polygon-7 {
      clip-path: polygon(99% 100%, 51% 55%, 80% 100%);
      -webkit-clip-path: polygon(99% 100%, 51% 55%, 80% 100%);
      background: #333;
    }
.photography-piece.polygon-8 {
      clip-path: polygon(79% 100%, 52% 58%, 39% 100%);
      -webkit-clip-path: polygon(79% 100%, 52% 58%, 39% 100%);
      background: #333;
    }
.photography-piece.polygon-9 {
      clip-path: polygon(0% 100%, 50% 60%, 38% 100%);
      -webkit-clip-path: polygon(0% 100%, 50% 60%, 38% 100%);
      background: #333;
    }
.photography-piece.polygon-10 {
      clip-path: polygon(48% 60.5%, 0% 63%, 0% 99%);
      -webkit-clip-path: polygon(48% 60.5%, 0% 63%, 0% 99%);
      background: #333;
    }
.photography-piece.polygon-11 {
      clip-path: polygon(0% 62%, 45% 60%, 0% 35%);
      -webkit-clip-path: polygon(0% 62%, 45% 60%, 0% 35%);
      background: #333;
    }
.photography-piece.polygon-12 {
      clip-path: polygon(0% 34%, 45% 59%, 0% 2%);
      -webkit-clip-path: polygon(0% 34%, 45% 59%, 0% 2%);
      background: #333;
    }
 .experiment-piece.polygon-1 {
      clip-path: polygon(20% 20%, 50% 95%, 80% 20%);
      -webkit-clip-path: polygon(20% 20%, 50% 95%, 80% 20%);
      background: #333;
    }
.experiment-piece.polygon-2 {
      clip-path: polygon(20% 20%, 50% 95%, 80% 20%);
      -webkit-clip-path: polygon(20% 20%, 50% 95%, 80% 20%);
      background: #333;
    }
.experiment-piece.polygon-3 {
      clip-path: polygon(0% 62%, 50% 20%, 100% 62%);
      -webkit-clip-path: polygon(0% 62%, 50% 20%, 100% 62%);
      background: #333;
    }
.experiment-piece.polygon-4 {
      clip-path: polygon(80% 20%, 88% 0%, 50% 20%);
      -webkit-clip-path: polygon(80% 20%, 88% 0%, 50% 20%);
      background: #333;
    }
.experiment-piece.polygon-5 {
      clip-path: polygon(20% 20%, 12% 0%, 50% 20%);
      -webkit-clip-path: polygon(20% 20%, 12% 0%, 50% 20%);
      background: #333;
    }
.experiment-piece.polygon-6 {
      clip-path: polygon(29% 44%, 45% 47%, 35% 46.5%);
      -webkit-clip-path: polygon(29% 44%, 45% 47%, 35% 46.5%);
      background: #fff;
    }
.experiment-piece.polygon-7 {
      clip-path: polygon(71% 44%, 55% 47%, 65% 46.5%);
      -webkit-clip-path: polygon(71% 44%, 55% 47%, 65% 46.5%);
      background: #fff;
    }
.experiment-piece.polygon-8 {
      clip-path: polygon(48% 66%, 50% 67%, 52% 66%);
      -webkit-clip-path: polygon(48% 66%, 50% 67%, 52% 66%);
      background: #fff;
    }
.experiment-piece.polygon-9 {
      clip-path: polygon(40% 55%, 44.2% 63%, 46% 65%);
      -webkit-clip-path: polygon(40% 55%, 44.2% 63%, 46% 65%);
      background: #fff;
    }
.experiment-piece.polygon-10 {
      clip-path: polygon(43% 55%, 45.8% 63%, 46% 65%);
      -webkit-clip-path: polygon(43% 55%, 45.8% 63%, 46% 65%);
      background: #fff;
    }
.experiment-piece.polygon-11 {
      clip-path: polygon(60% 55%, 55.8% 63%, 54% 65%);
      -webkit-clip-path: polygon(60% 55%, 55.8% 63%, 54% 65%);
      background: #fff;
    }
.experiment-piece.polygon-12 {
      clip-path: polygon(57% 55%, 54.1% 63%, 54% 65%);
      -webkit-clip-path: polygon(57% 55%, 54.1% 63%, 54% 65%);
      background: #fff;
    }
 .blog-piece.polygon-1 {
      clip-path: polygon(78.125% 21.875%, 78.125% 40.625%, 59.375% 40.625%);
      -webkit-clip-path: polygon(78.125% 21.875%, 78.125% 40.625%, 59.375% 40.625%);
      background: #333;
    }
.blog-piece.polygon-2 {
      clip-path: polygon(78.125% 21.875%, 59.375% 21.875%, 59.375% 40.625%);
      -webkit-clip-path: polygon(78.125% 21.875%, 59.375% 21.875%, 59.375% 40.625%);
      background: #333;
    }
.blog-piece.polygon-3 {
      clip-path: polygon(78.125% 40.625%, 59.375% 40.625%, 59.375% 59.375%);
      -webkit-clip-path: polygon(78.125% 40.625%, 59.375% 40.625%, 59.375% 59.375%);
      background: #333;
    }
.blog-piece.polygon-4 {
      clip-path: polygon(59.375% 21.875%, 59.375% 40.625%, 40.625% 40.625%);
      -webkit-clip-path: polygon(59.375% 21.875%, 59.375% 40.625%, 40.625% 40.625%);
      background: #333;
    }
.blog-piece.polygon-5 {
      clip-path: polygon(59.375% 40.625%, 59.375% 59.375%, 40.625% 59.375%);
      -webkit-clip-path: polygon(59.375% 40.625%, 59.375% 59.375%, 40.625% 59.375%);
      background: #333;
    }
.blog-piece.polygon-6 {
      clip-path: polygon(59.375% 40.625%, 40.625% 40.625%, 40.625% 59.375%);
      -webkit-clip-path: polygon(59.375% 40.625%, 40.625% 40.625%, 40.625% 59.375%);
      background: #333;
    }
.blog-piece.polygon-7 {
      clip-path: polygon(40.625% 59.375%, 59.375% 59.375%, 40.625% 78.125%);
      -webkit-clip-path: polygon(40.625% 59.375%, 59.375% 59.375%, 40.625% 78.125%);
      background: #333;
    }
.blog-piece.polygon-8 {
      clip-path: polygon(40.625% 59.375%, 40.625% 40.625%, 21.875% 59.375%);
      -webkit-clip-path: polygon(40.625% 59.375%, 40.625% 40.625%, 21.875% 59.375%);
      background: #333;
    }
.blog-piece.polygon-9 {
      clip-path: polygon(40.625% 59.375%, 40.625% 78.125%, 21.875% 78.125%);
      -webkit-clip-path: polygon(40.625% 59.375%, 40.625% 78.125%, 21.875% 78.125%);
      background: #333;
    }
.blog-piece.polygon-10 {
      clip-path: polygon(21.875% 59.375%, 40.625% 59.375%, 21.875% 78.125%);
      -webkit-clip-path: polygon(21.875% 59.375%, 40.625% 59.375%, 21.875% 78.125%);
      background: #333;
    }
.blog-piece.polygon-11 {
      clip-path: polygon(0% 50%, 12.5% 37.5%, 12.5% 62.5%);
      -webkit-clip-path: polygon(0% 50%, 12.5% 37.5%, 12.5% 62.5%);
      background: #333;
    }
.blog-piece.polygon-12 {
      clip-path: polygon(100% 50%, 87.5% 62.5%, 87.5% 37.5%);
      -webkit-clip-path: polygon(100% 50%, 87.5% 62.5%, 87.5% 37.5%);
      background: #333;
    }
 
        .polygon-1 {
          transition: -webkit-clip-path 0.39s 0.22s cubic-bezier(.7, .3, 0, 1), clip-path 0.39s 0.22s cubic-bezier(.7, .3, 0, 1), background-color 0.39s 0.22s cubic-bezier(.7, .3, 0, 1), border-radius 0.39s 0.22s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-2 {
          transition: -webkit-clip-path 0.48s 0.24000000000000002s cubic-bezier(.7, .3, 0, 1), clip-path 0.48s 0.24000000000000002s cubic-bezier(.7, .3, 0, 1), background-color 0.48s 0.24000000000000002s cubic-bezier(.7, .3, 0, 1), border-radius 0.48s 0.24000000000000002s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-3 {
          transition: -webkit-clip-path 0.5700000000000001s 0.26s cubic-bezier(.7, .3, 0, 1), clip-path 0.5700000000000001s 0.26s cubic-bezier(.7, .3, 0, 1), background-color 0.5700000000000001s 0.26s cubic-bezier(.7, .3, 0, 1), border-radius 0.5700000000000001s 0.26s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-4 {
          transition: -webkit-clip-path 0.6599999999999999s 0.28s cubic-bezier(.7, .3, 0, 1), clip-path 0.6599999999999999s 0.28s cubic-bezier(.7, .3, 0, 1), background-color 0.6599999999999999s 0.28s cubic-bezier(.7, .3, 0, 1), border-radius 0.6599999999999999s 0.28s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-5 {
          transition: -webkit-clip-path 0.75s 0.30000000000000004s cubic-bezier(.7, .3, 0, 1), clip-path 0.75s 0.30000000000000004s cubic-bezier(.7, .3, 0, 1), background-color 0.75s 0.30000000000000004s cubic-bezier(.7, .3, 0, 1), border-radius 0.75s 0.30000000000000004s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-6 {
          transition: -webkit-clip-path 0.8400000000000001s 0.32s cubic-bezier(.7, .3, 0, 1), clip-path 0.8400000000000001s 0.32s cubic-bezier(.7, .3, 0, 1), background-color 0.8400000000000001s 0.32s cubic-bezier(.7, .3, 0, 1), border-radius 0.8400000000000001s 0.32s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-7 {
          transition: -webkit-clip-path 0.9299999999999999s 0.34s cubic-bezier(.7, .3, 0, 1), clip-path 0.9299999999999999s 0.34s cubic-bezier(.7, .3, 0, 1), background-color 0.9299999999999999s 0.34s cubic-bezier(.7, .3, 0, 1), border-radius 0.9299999999999999s 0.34s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-8 {
          transition: -webkit-clip-path 1.02s 0.36s cubic-bezier(.7, .3, 0, 1), clip-path 1.02s 0.36s cubic-bezier(.7, .3, 0, 1), background-color 1.02s 0.36s cubic-bezier(.7, .3, 0, 1), border-radius 1.02s 0.36s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-9 {
          transition: -webkit-clip-path 1.1099999999999999s 0.38s cubic-bezier(.7, .3, 0, 1), clip-path 1.1099999999999999s 0.38s cubic-bezier(.7, .3, 0, 1), background-color 1.1099999999999999s 0.38s cubic-bezier(.7, .3, 0, 1), border-radius 1.1099999999999999s 0.38s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-10 {
          transition: -webkit-clip-path 1.2s 0.4s cubic-bezier(.7, .3, 0, 1), clip-path 1.2s 0.4s cubic-bezier(.7, .3, 0, 1), background-color 1.2s 0.4s cubic-bezier(.7, .3, 0, 1), border-radius 1.2s 0.4s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-11 {
          transition: -webkit-clip-path 1.29s 0.42000000000000004s cubic-bezier(.7, .3, 0, 1), clip-path 1.29s 0.42000000000000004s cubic-bezier(.7, .3, 0, 1), background-color 1.29s 0.42000000000000004s cubic-bezier(.7, .3, 0, 1), border-radius 1.29s 0.42000000000000004s cubic-bezier(.7, .3, 0, 1);
        }

        .polygon-12 {
          transition: -webkit-clip-path 1.3800000000000001s 0.44s cubic-bezier(.7, .3, 0, 1), clip-path 1.3800000000000001s 0.44s cubic-bezier(.7, .3, 0, 1), background-color 1.3800000000000001s 0.44s cubic-bezier(.7, .3, 0, 1), border-radius 1.3800000000000001s 0.44s cubic-bezier(.7, .3, 0, 1);
        }
 .polygon{position:absolute;height:100%;width:100%;opacity:1;background:#333;}
.polygon::before{content:"";width:100%;height:100%;background:rgba(255,255,255,0);top:0;left:0;position:absolute;}</style><style id="__jsx-3957473981">.menu-button.jsx-3957473981{position:relative;height:50px;width:50px;background:transparent;z-index:3;}
.menu-bar-1.jsx-3957473981{position:absolute;top:20px;left:50%;width:20px;height:2px;background:#333;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:-webkit-transform .3s ease-out;-webkit-transition:transform .3s ease-out;transition:transform .3s ease-out;}
.menu-bar-2.jsx-3957473981{position:absolute;top:auto;bottom:20px;left:50%;width:20px;height:2px;background:#333;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:-webkit-transform .3s ease-out;-webkit-transition:transform .3s ease-out;transition:transform .3s ease-out;}
.menu-button.jsx-3957473981 input[type=checkbox].jsx-3957473981{position:relative;height:100%;width:100%;opacity:0;cursor:pointer;z-index:1;}
input[type=checkbox].jsx-3957473981:checked~.menu-bar-1.jsx-3957473981{-webkit-transform:translate(-50%,4px) rotate(135deg);-ms-transform:translate(-50%,4px) rotate(135deg);transform:translate(-50%,4px) rotate(135deg);}
input[type=checkbox].jsx-3957473981:checked~.menu-bar-2.jsx-3957473981{-webkit-transform:translate(-50%,-4px) rotate(45deg);-ms-transform:translate(-50%,-4px) rotate(45deg);transform:translate(-50%,-4px) rotate(45deg);}</style><style id="__jsx-2047668845">.topbar.jsx-2047668845{padding:30px 70px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
@media (max-width:500px){.topbar.jsx-2047668845{padding:30px 15px;}}</style><style id="__jsx-624138856">.post-container p{font-family:'Open Sans', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, sans-serif;font-size:20px;font-weight:200;color:#333;line-height:32px;font-weight:300;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container h1{font-family:'Open Sans', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, sans-serif;font-size:40px;font-weight:600;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container h2{font-family:'Open Sans', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, sans-serif;font-size:32px;font-weight:600;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container h4{font-family:'Open Sans', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, sans-serif;margin:0;font-size:22px;font-weight:600;line-height:22px;color:#333;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container strong{font-weight:600;font-family:'Open Sans', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, sans-serif;}
.post-container time{display:block;font-family:'Open Sans', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, sans-serif;font-size:15px;font-weight:300;color:#515151;text-transform:uppercase;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container ul{list-style:inside circle !important;color:#666;font-size:18px;font-weight:200;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container ol{color:#666;font-size:18px;font-weight:200;list-style:inside decimal;max-width:50rem;margin-left:auto;margin-right:auto;padding-left:0;}
.post-container ol,.post-container li{margin-bottom:.5rem;}
.post-container blockquote{padding:0 0 0 10px;color:#999;border-left:10px solid #e5e5e5;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container blockquote p{color:#999;padding:0;}
.post-container pre{margin-left:-15px;padding:50px 15px;width:100vw;box-sizing:border-box;}
.post-container pre code{display:block;padding:0;font-size:16px;color:inherit;background-color:transparent;color:#fff;max-width:50rem;margin-left:auto;margin-right:auto;}
.post-container code{color:#fff;background-color:#7f7f7f;padding:2px 3px;font-size:13px;}
.post-container a{font-family:'Open Sans', 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, sans-serif;font-size:20px;font-weight:300;color:#268bd2;}
#disqus_thread{max-width:50rem;margin-left:auto;margin-right:auto;}
.share{text-align:center;border-top:1px solid #e5e5e5;margin-top:55px;}
.share svg{margin:2rem .938rem;width:35px;height:35px;}
@media (min-width:500px){.post-container pre{padding:50px 70px;margin-left:-70px;}.post-container blockquote{-webkit-transform:translateX(10px);-ms-transform:translateX(10px);transform:translateX(10px);}}</style><style id="__jsx-394600245">.fade-in.jsx-394600245{opacity:0;-webkit-animation:2s fadeIn-jsx-394600245 ease forwards;animation:2s fadeIn-jsx-394600245 ease forwards;}
@-webkit-keyframes fadeIn-jsx-394600245{from{opacity:0;}to{opacity:1;}}
@keyframes fadeIn-jsx-394600245{from{opacity:0;}to{opacity:1;}}</style><style id="__jsx-634012247">p{font-size:20px;}
pre{background-color:#060606;font-size:20px;padding:20px;overflow-x:auto;white-space:pre;}
pre code{padding:0;}
code{color:#fff;background-color:#060606;font-size:65%;border-radius:3px;padding:2px 5px;}
.hljs-comment,.hljs-quote{color:#969896;}
.hljs-variable,.hljs-template-variable,.hljs-tag,.hljs-name,.hljs-selector-id,.hljs-selector-class,.hljs-regexp,.hljs-deletion{color:#cc6666;}
.hljs-literal{color:#4aa3df;}
.hljs-builtin-name,.hljs-type,.hljs-meta,.hljs-link{color:#EB9532;}
.hljs-built_in,.hljs-params{color:#cc6666;}
.hljs-attribute{color:#f0c674;}
.hljs-string,.hljs-symbol,.hljs-bullet,.hljs-addition{color:#EB9532;}
.hljs-number,.hljs-title,.hljs-section{color:#47D2E9;}
.hljs-keyword,.hljs-selector-tag{color:#4aa3df;font-weight:bold;}
.hljs{overflow-x:auto;background-color:#060606;color:#fff;}
.hljs-emphasis{font-style:italic;}
.hljs-strong{font-weight:bold;}</style><style id="__jsx-784795864">a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}
ul{list-style-type:none;margin:0;padding:0;}
.hidden{display:none;}
body{height:100%;}
html{height:100%;}
.page-content{padding:0 70px 30px 70px;position:relative;}
@media (max-width:500px){.page-content{padding:0 15px 30px 15px;}}
.polygon{position:absolute;height:100%;width:100%;opacity:1;background:#333;}
.polygon::before{content:"";width:100%;height:100%;background:rgba(255,255,255,0);top:0;left:0;position:absolute;}</style><style id="__jsx-2827779536">html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}
body{margin:0;}
article,aside,footer,header,nav,section{display:block;}
h1{font-size:2em;margin:0.67em 0;}
figcaption,figure,main{display:block;}
figure{margin:1em 40px;}
hr{box-sizing:content-box;height:0;overflow:visible;}
pre{font-family:monospace,monospace;font-size:1em;}
a{background-color:transparent;-webkit-text-decoration-skip:objects;}
abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}
b,strong{font-weight:inherit;}
b,strong{font-weight:bolder;}
code,kbd,samp{font-family:monospace,monospace;font-size:1em;}
dfn{font-style:italic;}
mark{background-color:#ff0;color:#000;}
small{font-size:80%;}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}
sub{bottom:-0.25em;}
sup{top:-0.5em;}
audio,video{display:inline-block;}
audio:not([controls]){display:none;height:0;}
img{border-style:none;}
svg:not(:root){overflow:hidden;}
button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0;}
button,input{overflow:visible;}
button,select{text-transform:none;}
button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}
button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}
button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}
fieldset{padding:0.35em 0.75em 0.625em;}
legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}
progress{display:inline-block;vertical-align:baseline;}
textarea{overflow:auto;}
[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}
[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}
[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}
[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}
::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}
details,menu{display:block;}
summary{display:list-item;}
canvas{display:inline-block;}
template{display:none;}
[hidden]{display:none;}</style></head><body><div id="__next"><div class="page-container"><header class="jsx-2047668845 topbar"><div class="jsx-1462158505 logo root undefined logo"><div class="jsx-1462158505 logo-piece polygon-1 polygon "></div><div class="jsx-1462158505 logo-piece polygon-2 polygon "></div><div class="jsx-1462158505 logo-piece polygon-3 polygon "></div><div class="jsx-1462158505 logo-piece polygon-4 polygon "></div><div class="jsx-1462158505 logo-piece polygon-5 polygon "></div><div class="jsx-1462158505 logo-piece polygon-6 polygon "></div><div class="jsx-1462158505 logo-piece polygon-7 polygon "></div><div class="jsx-1462158505 logo-piece polygon-8 polygon "></div><div class="jsx-1462158505 logo-piece polygon-9 polygon "></div><div class="jsx-1462158505 logo-piece polygon-10 polygon "></div><div class="jsx-1462158505 logo-piece polygon-11 polygon "></div><div class="jsx-1462158505 logo-piece polygon-12 polygon "></div></div><div class="jsx-3957473981 menu-button "><input type="checkbox" class="jsx-3957473981"/><div class="jsx-3957473981 menu-bar-1"></div><div class="jsx-3957473981 menu-bar-2"></div></div></header><div class="page-content "><section><article itemProp="articleBody" class="jsx-394600245 post-container fade-in"><h1 itemProp="name" class="jsx-394600245 post-title">ES6 - Let, Const &amp; Blocks</h1><p itemProp="description" class="jsx-394600245">Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo.</p><time itemProp="datePublished" dateTime="2016-03-27 16:13:43 -0300" class="jsx-394600245">27 Mar 2016</time><div class="jsx-394600245"><p>Fala galera, nesse post eu vou falar um pouco sobre a &quot;nova&quot; versão do JavaScript (ES6).</p>
<p>Digo &quot;nova&quot; (entre aspas) porque a especificação dela foi aprovada no ano passado (2015), e já tem muitos browsers que suportam boa parte de suas funcionalidades, mas ainda vejo muita gente com dúvidas sobre ela.</p>
<p>Esse post será parte de uma série de posts chamada &quot;ES6 - O que mudou?&quot;, ela será uma versão simplificada do primeiro tópico de uma talk que eu dei onde eu trabalho, quem quiser ver, é só acessar os <a href="http://www.slideshare.net/Hugeinc/what-is-new-on-es6">slides</a>.</p>
<p>O objetivo é escrever posts pequenos e com bastante exemplos.</p>
<p>Lista dos assuntos que irei abordar no post:</p>
<ul>
<li>Let</li>
<li>Const</li>
<li>Blocks</li>
<li>TDZ</li>
</ul>
<h2>Let &amp; Blocks</h2>
<blockquote>
<p><code>let</code> permite que você defina uma variável limitada pelo escopo do bloco <code>{}</code> de onde foi declarada.</p>
</blockquote>
<p>Diferente de <code>var</code>, que é limitada ao escopo de sua função.</p>
<p>Anteriormente, no javascript, somente as funções criam escopo, diferente de outras linguagens, que criam escopo dentro de blocos, no ES6 com <code>let</code> isso muda, e passamos a ter escopo nos blocos também.</p>
<p><strong>Exemplo:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;

  <span class="hljs-keyword">var</span> version = <span class="hljs-string">'ES5'</span>; <span class="hljs-comment">// Declara "version" dentro da função IIFE</span>

  {
    <span class="hljs-keyword">let</span> version = <span class="hljs-string">'ES6'</span>; <span class="hljs-comment">// Declara "version" dentro do bloco "{}"</span>
    <span class="hljs-built_in">console</span>.log(version); <span class="hljs-comment">// &gt; 'ES6'</span>
  }

  <span class="hljs-built_in">console</span>.log(version); <span class="hljs-comment">// &gt; 'ES5'</span>
})();
</code></pre>
<p>Ok, vamos recapitular o que aconteceu acima</p>
<ol>
<li>Dentro da IIFE declaramos uma variável com o nome <code>version</code> limitada ao escopo da função</li>
<li>Em seguida temos um bloco, sem nenhuma condição ou loop, um bloco puro (sim, podemos fazer isso em JS)</li>
<li>Dentro desse bloco, declaramos outra variável <code>version</code></li>
<li>Logamos a variável <code>version</code> (declarada dentro do bloco)</li>
<li>Fora do bloco, logamos a variável <code>version</code> (que será a que foi declarada no início da função)</li>
</ol>
<p>Ou seja, as duas variáveis não conflitaram, porque elas estão declaradas em escopos diferentes, isso graças ao <code>let</code>, caso nós usássemos <code>var</code> para declarar a segunda variável chamada version, a variável anterior seria sobrescrita.</p>
<p>Uma coisa bacana que <code>let</code> resolve, é quando você quer fazer um loop fazendo operações assíncronas para cada iteração (adicionando uma callback).</p>
<p>Como assim?</p>
<p>Bom, quando usamos um <code>for</code> loop adicionando callbacks e usando a variável <code>i</code> de alguma forma em cada callback, temos um problema, a variável <code>i</code> não será a mesma quando as operações assíncronas acabarem, porque todas as callbacks tem a mesma referência de <code>i</code>.</p>
<p><strong>Exemplo usando <code>var</code>:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;
  
  <span class="hljs-keyword">var</span> versions = [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es6'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, n = versions.length; i &lt; n; i++) {
    <span class="hljs-built_in">console</span>.log(i);
    getNewName(versions[i], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newName</span>) </span>{
      versions[i] = newName;
      <span class="hljs-built_in">console</span>.log(versions, i, version[i]);
    });
  }
})();

&gt; <span class="hljs-number">0</span>
&gt; <span class="hljs-number">1</span>
&gt; <span class="hljs-number">2</span>
&gt; <span class="hljs-number">3</span>

&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es6'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>] <span class="hljs-number">4</span> <span class="hljs-literal">undefined</span>
&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es6'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>, <span class="hljs-string">'es5'</span>] <span class="hljs-number">4</span> <span class="hljs-string">'es5'</span>
&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es6'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>, <span class="hljs-string">'es2015'</span>] <span class="hljs-number">4</span> <span class="hljs-string">'es2015'</span>
&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es6'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>, <span class="hljs-string">'es2016'</span>] <span class="hljs-number">4</span> <span class="hljs-string">'es2016'</span>
</code></pre>
<p>Vamos recapitular de novo?</p>
<ol>
<li>Tenho um array com versões do javascript</li>
<li>Para cada item do array, eu chamo o método <code>getNewName</code> passando a versão e uma callback (pois ele é assíncrono)</li>
<li>Dentro da callback eu uso a variável <code>i</code> para acessar o item desejado</li>
<li>Dá tudo errado</li>
</ol>
<p>A referência da variável <code>i</code> é a mesma, para todas as operações dentro do <code>for</code>, ou seja, como a callback será executada depois de um certo período de tempo, o valor de <code>i</code> não será o mesmo, no nosso caso, ele terá o valor <code>4</code> porque estamos aumentando seu valor a cada iteração.</p>
<p>Então, o que acontece quando usamos <code>let</code> ao invés de <code>var</code>?</p>
<p><strong>Exemplo usando <code>let</code>:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;
  
  <span class="hljs-keyword">var</span> versions = [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es6'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, n = versions.length; i &lt; n; i++) {
    <span class="hljs-built_in">console</span>.log(i);
    getNewName(versions[i], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newName</span>) </span>{
      versions[i] = newName;
      <span class="hljs-built_in">console</span>.log(versions, i, version[i]);
    });
  }
})();

&gt; <span class="hljs-number">0</span>
&gt; <span class="hljs-number">1</span>
&gt; <span class="hljs-number">2</span>
&gt; <span class="hljs-number">3</span>

&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es6'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>] <span class="hljs-number">0</span> <span class="hljs-string">'es5'</span>
&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es2015'</span>, <span class="hljs-string">'es7'</span>, <span class="hljs-string">'es8'</span>] <span class="hljs-number">1</span> <span class="hljs-string">'es2015'</span>
&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es2015'</span>, <span class="hljs-string">'es2016'</span>, <span class="hljs-string">'es8'</span>] <span class="hljs-number">2</span> <span class="hljs-string">'es2016'</span>
&gt; [<span class="hljs-string">'es5'</span>, <span class="hljs-string">'es2015'</span>, <span class="hljs-string">'es2016'</span>, <span class="hljs-string">'es2017'</span>] <span class="hljs-number">3</span> <span class="hljs-string">'es2017'</span>
</code></pre>
<p>Recapitulando...</p>
<p>Então, como disse no exemplo com <code>var</code>, a referência da variável <code>i</code> é a mesma para todas as operações dentro do <code>for</code>, porque o escopo dela é a função, com <code>let</code>, o escopo da variável <code>i</code> é o bloco, logo, para cada iteração feita, a referência de <code>i</code> será diferente, por isso mesmo executando uma callback depois de um certo período de tempo usando <code>i</code> não tem problema, pois a referência é única para cada iteração.</p>
<h2>Const</h2>
<blockquote>
<p><code>Const</code> declara uma constante, uma referência de somente leitura para um valor alocado em memória.</p>
</blockquote>
<p>Ou seja, diferente de <code>var</code> ou <code>let</code>, se tentarmos alterar a referência que a <code>const</code> declarada está guardando, ganhamos um <code>TypeError</code>.</p>
<p><strong>Exemplo alterando a referência:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;

  <span class="hljs-keyword">const</span> VERSION = <span class="hljs-string">'ES6'</span>;

  VERSION = <span class="hljs-string">'ES5'</span>;
})();

&gt; <span class="hljs-string">'Uncaught TypeError: Assignment to constant variable'</span>
</code></pre>
<p><strong>O fato dela ser uma const`, não quer dizer que o valor que ela guarda é imutável!</strong></p>
<p>Ihalá, como assim o.O?</p>
<p>Com um exemplo deve ficar fácil de entender</p>
<p><strong>Exemplo alterando o valor:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;

  <span class="hljs-keyword">const</span> VERSIONS = {
    <span class="hljs-attr">es6</span>: <span class="hljs-string">'ES6'</span>,
    <span class="hljs-attr">es7</span>: <span class="hljs-string">'ES2016'</span>,
    <span class="hljs-attr">es8</span>: <span class="hljs-string">'ES2017'</span>
  };

  VERSIONS.es6 = <span class="hljs-string">'ES2015'</span>;

  <span class="hljs-built_in">console</span>.log(VERSIONS);
})();

&gt; {<span class="hljs-attr">es6</span>: <span class="hljs-string">'ES2015'</span>, <span class="hljs-attr">es7</span>: <span class="hljs-string">'ES2016'</span>, <span class="hljs-attr">es8</span>: <span class="hljs-string">'ES2017'</span>}
</code></pre>
<p>Então, acho que agora ficou claro, o erro só ocorre quando você tenta substituir a referência que uma <code>const</code> está guardando.</p>
<p>Mais um exemplo de erro, dessa vez usando um objeto igual no exemplo anterior.</p>
<p><strong>Exemplo alterando a referência:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;

  <span class="hljs-keyword">const</span> VERSIONS = {
    <span class="hljs-attr">es6</span>: <span class="hljs-string">'ES6'</span>,
    <span class="hljs-attr">es7</span>: <span class="hljs-string">'ES2016'</span>,
    <span class="hljs-attr">es8</span>: <span class="hljs-string">'ES2017'</span>
  };

  VERSIONS = {
    <span class="hljs-attr">es6</span>: <span class="hljs-string">'ES2015'</span>,
    <span class="hljs-attr">es7</span>: <span class="hljs-string">'ES2016'</span>,
    <span class="hljs-attr">es8</span>: <span class="hljs-string">'ES2017'</span>
  };
})();

&gt; <span class="hljs-string">'Uncaught TypeError: Assignment to constant variable'</span>
</code></pre>
<h2>Const &amp; Blocks</h2>
<blockquote>
<p><code>const</code> é limitada ao escopo do bloco <code>{}</code>.</p>
</blockquote>
<p>Isso mesmo, <code>const</code> se comporta igual ao <code>let</code> quando se trata do escopo em que foram declaradas.</p>
<p><strong>Exemplo:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;

  <span class="hljs-keyword">const</span> VERSION = <span class="hljs-string">'ES5'</span>;
  
  {
    <span class="hljs-keyword">const</span> VERSION = <span class="hljs-string">'ES6'</span>;
    <span class="hljs-built_in">console</span>.log(VERSION);
  }

  <span class="hljs-built_in">console</span>.log(VERSION);
})();

&gt; <span class="hljs-string">'ES6'</span>
&gt; <span class="hljs-string">'ES5'</span>
</code></pre>
<h2>TDZ (Temporal Dead Zone)</h2>
<blockquote>
<p><code>let</code> e <code>const</code> farão o &quot;hoist&quot; do valor para o topo do bloco. Porém, usa-los antes da linha de código onde foram declarados, causa um <code>ReferenceError</code>.</p>
</blockquote>
<p>Os valores estão no &quot;temporal dead zone&quot;, que existe do começo do bloco <code>{}</code> até a linha onde ocorre a declaração do valor (usando <code>const</code> ou <code>let</code>).</p>
<p>Com <code>var</code>, a variável sempre é declarada como <code>undefined</code> no início da função, logo não temos o temporal dead zone quando usamos <code>var</code>.</p>
<p><strong>Exemplo:</strong></p>
<pre><code class="language-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IIFE</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  'use strict'</span>;
  
  <span class="hljs-built_in">console</span>.log(version); <span class="hljs-comment">// undefined</span>
  <span class="hljs-built_in">console</span>.log(letVersion);
  <span class="hljs-comment">// Uncaught ReferenceError: letVersion is not defined</span>
  <span class="hljs-built_in">console</span>.log(VERSION);
  <span class="hljs-comment">// Uncaught ReferenceError: VERSION is not defined</span>

  <span class="hljs-keyword">var</span> version = <span class="hljs-string">'es6'</span>;
  <span class="hljs-keyword">let</span> letVersion = <span class="hljs-string">'ES6'</span>;
  <span class="hljs-keyword">const</span> VERSION = <span class="hljs-string">'ES6'</span>;
})();
</code></pre>
<p>Então, recapitulando esse último exemplo.</p>
<p>Com variáveis declaradas com <code>var</code>, não importa em qual momento da função ela está sendo declarada, o javascript fará a declaração dela como <code>undefined</code> no ínicio da função.</p>
<p>Com <code>let</code>, ele faz o hoisting para o início do bloco, porém não permite você acessar a variável até a sua declaração, mesmo sem atribuição alguma, por exemplo:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> version;
</code></pre>
<p>E com <code>const</code>, funciona da mesma forma que o <code>let</code>.</p>
<p>Bom galera, espero que tenham gostado do post, qualquer feedback será muito bem vindo.<br>
Se tiverem algo a acrescentar, comentem ai em baixo :)</p>
</div></article><section class="share"><svg xmlns="http://www.w3.org/2000/svg" display="none" version="1.1"><defs><symbol id="icon-twitter" viewBox="0 0 951 1024"><path class="path1" d="M925.714 233.143q-38.286 56-92.571 95.429 0.571 8 0.571 24 0 74.286-21.714 148.286t-66 142-105.429 120.286-147.429 83.429-184.571 31.143q-154.857 0-283.429-82.857 20 2.286 44.571 2.286 128.571 0 229.143-78.857-60-1.143-107.429-36.857t-65.143-91.143q18.857 2.857 34.857 2.857 24.571 0 48.571-6.286-64-13.143-106-63.714t-42-117.429v-2.286q38.857 21.714 83.429 23.429-37.714-25.143-60-65.714t-22.286-88q0-50.286 25.143-93.143 69.143 85.143 168.286 136.286t212.286 56.857q-4.571-21.714-4.571-42.286 0-76.571 54-130.571t130.571-54q80 0 134.857 58.286 62.286-12 117.143-44.571-21.143 65.714-81.143 101.714 53.143-5.714 106.286-28.571z"></path></symbol><symbol id="icon-facebook" viewBox="0 0 585 1024"><path class="path1" d="M548 6.857v150.857h-89.714q-49.143 0-66.286 20.571t-17.143 61.714v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571q0-106.286 59.429-164.857t158.286-58.571q84 0 130.286 6.857z"></path></symbol><symbol id="icon-google-plus" viewBox="0 0 951 1024"><path class="path1" d="M420 454.857q0 20.571 18.286 40.286t44.286 38.857 51.714 42 44 59.429 18.286 81.143q0 51.429-27.429 98.857-41.143 69.714-120.571 102.571t-170.286 32.857q-75.429 0-140.857-23.714t-98-78.571q-21.143-34.286-21.143-74.857 0-46.286 25.429-85.714t67.714-65.714q74.857-46.857 230.857-57.143-18.286-24-27.143-42.286t-8.857-41.714q0-20.571 12-48.571-26.286 2.286-38.857 2.286-84.571 0-142.571-55.143t-58-139.714q0-46.857 20.571-90.857t56.571-74.857q44-37.714 104.286-56t124.286-18.286h238.857l-78.857 50.286h-74.857q42.286 36 64 76t21.714 91.429q0 41.143-14 74t-33.714 53.143-39.714 37.143-34 35.143-14 37.714zM336.571 400q21.714 0 44.571-9.429t37.714-24.857q30.286-32.571 30.286-90.857 0-33.143-9.714-71.429t-27.714-74-48.286-59.143-66.857-23.429q-24 0-47.143 11.143t-37.429 30q-26.857 33.714-26.857 91.429 0 26.286 5.714 55.714t18 58.857 29.714 52.857 42.857 38.286 55.143 14.857zM337.714 898.857q33.143 0 63.714-7.429t56.571-22.286 41.714-41.714 15.714-62.286q0-14.286-4-28t-8.286-24-15.429-23.714-16.857-20-22-19.714-20.857-16.571-23.714-17.143-20.857-14.857q-9.143-1.143-27.429-1.143-30.286 0-60 4t-61.429 14.286-55.429 26.286-39.143 42.571-15.429 60.286q0 40 20 70.571t52.286 47.429 68 25.143 72.857 8.286zM800.571 398.286h121.714v61.714h-121.714v125.143h-60v-125.143h-121.143v-61.714h121.143v-124h60v124z"></path></symbol><symbol id="icon-angle-down" viewBox="0 0 658 1024"><path class="path1" d="M614.286 420.571q0 7.429-5.714 13.143l-266.286 266.286q-5.714 5.714-13.143 5.714t-13.143-5.714l-266.286-266.286q-5.714-5.714-5.714-13.143t5.714-13.143l28.571-28.571q5.714-5.714 13.143-5.714t13.143 5.714l224.571 224.571 224.571-224.571q5.714-5.714 13.143-5.714t13.143 5.714l28.571 28.571q5.714 5.714 5.714 13.143z"></path></symbol></defs></svg><a aria-label="Share on Twitter" href="https://twitter.com/intent/tweet?text=&quot;Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo.&quot; http://nipher.io/ES6-let-const-blocks via @nipher_jonas&amp;hashtags=es6,js" title="Share on Twitter"><svg class="icon icon-twitter"><use href="#icon-twitter"></use></svg></a><a aria-label="Share on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://nipher.io/ES6-let-const-blocks" title="Share on Facebook"><svg class="icon icon-facebook"><use href="#icon-facebook"></use></svg></a><a aria-label="Share on Google Plus" href="https://plus.google.com/share?url=http://nipher.io/ES6-let-const-blocks" title="Share on Google+"><svg class="icon icon-google-plus"><use href="#icon-google-plus"></use></svg></a></section><div><div id="disqus_thread"></div></div></section></div><div style="width:100%;height:100%"></div></div></div><div id="__next-error"></div><script>
          __NEXT_DATA__ = {"props":{"pageProps":{"date":"27 Mar 2016","post":"\u003cp\u003eFala galera, nesse post eu vou falar um pouco sobre a \u0026quot;nova\u0026quot; versão do JavaScript (ES6).\u003c/p\u003e\n\u003cp\u003eDigo \u0026quot;nova\u0026quot; (entre aspas) porque a especificação dela foi aprovada no ano passado (2015), e já tem muitos browsers que suportam boa parte de suas funcionalidades, mas ainda vejo muita gente com dúvidas sobre ela.\u003c/p\u003e\n\u003cp\u003eEsse post será parte de uma série de posts chamada \u0026quot;ES6 - O que mudou?\u0026quot;, ela será uma versão simplificada do primeiro tópico de uma talk que eu dei onde eu trabalho, quem quiser ver, é só acessar os \u003ca href=\"http://www.slideshare.net/Hugeinc/what-is-new-on-es6\"\u003eslides\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eO objetivo é escrever posts pequenos e com bastante exemplos.\u003c/p\u003e\n\u003cp\u003eLista dos assuntos que irei abordar no post:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLet\u003c/li\u003e\n\u003cli\u003eConst\u003c/li\u003e\n\u003cli\u003eBlocks\u003c/li\u003e\n\u003cli\u003eTDZ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eLet \u0026amp; Blocks\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003elet\u003c/code\u003e permite que você defina uma variável limitada pelo escopo do bloco \u003ccode\u003e{}\u003c/code\u003e de onde foi declarada.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eDiferente de \u003ccode\u003evar\u003c/code\u003e, que é limitada ao escopo de sua função.\u003c/p\u003e\n\u003cp\u003eAnteriormente, no javascript, somente as funções criam escopo, diferente de outras linguagens, que criam escopo dentro de blocos, no ES6 com \u003ccode\u003elet\u003c/code\u003e isso muda, e passamos a ter escopo nos blocos também.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e version = \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// Declara \"version\" dentro da função IIFE\u003c/span\u003e\n\n  {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e version = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// Declara \"version\" dentro do bloco \"{}\"\u003c/span\u003e\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(version); \u003cspan class=\"hljs-comment\"\u003e// \u0026gt; 'ES6'\u003c/span\u003e\n  }\n\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(version); \u003cspan class=\"hljs-comment\"\u003e// \u0026gt; 'ES5'\u003c/span\u003e\n})();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOk, vamos recapitular o que aconteceu acima\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDentro da IIFE declaramos uma variável com o nome \u003ccode\u003eversion\u003c/code\u003e limitada ao escopo da função\u003c/li\u003e\n\u003cli\u003eEm seguida temos um bloco, sem nenhuma condição ou loop, um bloco puro (sim, podemos fazer isso em JS)\u003c/li\u003e\n\u003cli\u003eDentro desse bloco, declaramos outra variável \u003ccode\u003eversion\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eLogamos a variável \u003ccode\u003eversion\u003c/code\u003e (declarada dentro do bloco)\u003c/li\u003e\n\u003cli\u003eFora do bloco, logamos a variável \u003ccode\u003eversion\u003c/code\u003e (que será a que foi declarada no início da função)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eOu seja, as duas variáveis não conflitaram, porque elas estão declaradas em escopos diferentes, isso graças ao \u003ccode\u003elet\u003c/code\u003e, caso nós usássemos \u003ccode\u003evar\u003c/code\u003e para declarar a segunda variável chamada version, a variável anterior seria sobrescrita.\u003c/p\u003e\n\u003cp\u003eUma coisa bacana que \u003ccode\u003elet\u003c/code\u003e resolve, é quando você quer fazer um loop fazendo operações assíncronas para cada iteração (adicionando uma callback).\u003c/p\u003e\n\u003cp\u003eComo assim?\u003c/p\u003e\n\u003cp\u003eBom, quando usamos um \u003ccode\u003efor\u003c/code\u003e loop adicionando callbacks e usando a variável \u003ccode\u003ei\u003c/code\u003e de alguma forma em cada callback, temos um problema, a variável \u003ccode\u003ei\u003c/code\u003e não será a mesma quando as operações assíncronas acabarem, porque todas as callbacks tem a mesma referência de \u003ccode\u003ei\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo usando \u003ccode\u003evar\u003c/code\u003e:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e versions = [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e];\n\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, n = versions.length; i \u0026lt; n; i++) {\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(i);\n    getNewName(versions[i], \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003enewName\u003c/span\u003e) \u003c/span\u003e{\n      versions[i] = newName;\n      \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(versions, i, version[i]);\n    });\n  }\n})();\n\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eVamos recapitular de novo?\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eTenho um array com versões do javascript\u003c/li\u003e\n\u003cli\u003ePara cada item do array, eu chamo o método \u003ccode\u003egetNewName\u003c/code\u003e passando a versão e uma callback (pois ele é assíncrono)\u003c/li\u003e\n\u003cli\u003eDentro da callback eu uso a variável \u003ccode\u003ei\u003c/code\u003e para acessar o item desejado\u003c/li\u003e\n\u003cli\u003eDá tudo errado\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eA referência da variável \u003ccode\u003ei\u003c/code\u003e é a mesma, para todas as operações dentro do \u003ccode\u003efor\u003c/code\u003e, ou seja, como a callback será executada depois de um certo período de tempo, o valor de \u003ccode\u003ei\u003c/code\u003e não será o mesmo, no nosso caso, ele terá o valor \u003ccode\u003e4\u003c/code\u003e porque estamos aumentando seu valor a cada iteração.\u003c/p\u003e\n\u003cp\u003eEntão, o que acontece quando usamos \u003ccode\u003elet\u003c/code\u003e ao invés de \u003ccode\u003evar\u003c/code\u003e?\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo usando \u003ccode\u003elet\u003c/code\u003e:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e versions = [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e];\n\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, n = versions.length; i \u0026lt; n; i++) {\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(i);\n    getNewName(versions[i], \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003enewName\u003c/span\u003e) \u003c/span\u003e{\n      versions[i] = newName;\n      \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(versions, i, version[i]);\n    });\n  }\n})();\n\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2017'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2017'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRecapitulando...\u003c/p\u003e\n\u003cp\u003eEntão, como disse no exemplo com \u003ccode\u003evar\u003c/code\u003e, a referência da variável \u003ccode\u003ei\u003c/code\u003e é a mesma para todas as operações dentro do \u003ccode\u003efor\u003c/code\u003e, porque o escopo dela é a função, com \u003ccode\u003elet\u003c/code\u003e, o escopo da variável \u003ccode\u003ei\u003c/code\u003e é o bloco, logo, para cada iteração feita, a referência de \u003ccode\u003ei\u003c/code\u003e será diferente, por isso mesmo executando uma callback depois de um certo período de tempo usando \u003ccode\u003ei\u003c/code\u003e não tem problema, pois a referência é única para cada iteração.\u003c/p\u003e\n\u003ch2\u003eConst\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003eConst\u003c/code\u003e declara uma constante, uma referência de somente leitura para um valor alocado em memória.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOu seja, diferente de \u003ccode\u003evar\u003c/code\u003e ou \u003ccode\u003elet\u003c/code\u003e, se tentarmos alterar a referência que a \u003ccode\u003econst\u003c/code\u003e declarada está guardando, ganhamos um \u003ccode\u003eTypeError\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo alterando a referência:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n\n  VERSION = \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e;\n})();\n\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'Uncaught TypeError: Assignment to constant variable'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eO fato dela ser uma const`, não quer dizer que o valor que ela guarda é imutável!\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIhalá, como assim o.O?\u003c/p\u003e\n\u003cp\u003eCom um exemplo deve ficar fácil de entender\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo alterando o valor:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSIONS = {\n    \u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e\n  };\n\n  VERSIONS.es6 = \u003cspan class=\"hljs-string\"\u003e'ES2015'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSIONS);\n})();\n\n\u0026gt; {\u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2015'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEntão, acho que agora ficou claro, o erro só ocorre quando você tenta substituir a referência que uma \u003ccode\u003econst\u003c/code\u003e está guardando.\u003c/p\u003e\n\u003cp\u003eMais um exemplo de erro, dessa vez usando um objeto igual no exemplo anterior.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo alterando a referência:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSIONS = {\n    \u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e\n  };\n\n  VERSIONS = {\n    \u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2015'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e\n  };\n})();\n\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'Uncaught TypeError: Assignment to constant variable'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eConst \u0026amp; Blocks\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003econst\u003c/code\u003e é limitada ao escopo do bloco \u003ccode\u003e{}\u003c/code\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIsso mesmo, \u003ccode\u003econst\u003c/code\u003e se comporta igual ao \u003ccode\u003elet\u003c/code\u003e quando se trata do escopo em que foram declaradas.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e;\n  \n  {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSION);\n  }\n\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSION);\n})();\n\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eTDZ (Temporal Dead Zone)\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003elet\u003c/code\u003e e \u003ccode\u003econst\u003c/code\u003e farão o \u0026quot;hoist\u0026quot; do valor para o topo do bloco. Porém, usa-los antes da linha de código onde foram declarados, causa um \u003ccode\u003eReferenceError\u003c/code\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOs valores estão no \u0026quot;temporal dead zone\u0026quot;, que existe do começo do bloco \u003ccode\u003e{}\u003c/code\u003e até a linha onde ocorre a declaração do valor (usando \u003ccode\u003econst\u003c/code\u003e ou \u003ccode\u003elet\u003c/code\u003e).\u003c/p\u003e\n\u003cp\u003eCom \u003ccode\u003evar\u003c/code\u003e, a variável sempre é declarada como \u003ccode\u003eundefined\u003c/code\u003e no início da função, logo não temos o temporal dead zone quando usamos \u003ccode\u003evar\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(version); \u003cspan class=\"hljs-comment\"\u003e// undefined\u003c/span\u003e\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(letVersion);\n  \u003cspan class=\"hljs-comment\"\u003e// Uncaught ReferenceError: letVersion is not defined\u003c/span\u003e\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSION);\n  \u003cspan class=\"hljs-comment\"\u003e// Uncaught ReferenceError: VERSION is not defined\u003c/span\u003e\n\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e version = \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e letVersion = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n})();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEntão, recapitulando esse último exemplo.\u003c/p\u003e\n\u003cp\u003eCom variáveis declaradas com \u003ccode\u003evar\u003c/code\u003e, não importa em qual momento da função ela está sendo declarada, o javascript fará a declaração dela como \u003ccode\u003eundefined\u003c/code\u003e no ínicio da função.\u003c/p\u003e\n\u003cp\u003eCom \u003ccode\u003elet\u003c/code\u003e, ele faz o hoisting para o início do bloco, porém não permite você acessar a variável até a sua declaração, mesmo sem atribuição alguma, por exemplo:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e version;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eE com \u003ccode\u003econst\u003c/code\u003e, funciona da mesma forma que o \u003ccode\u003elet\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eBom galera, espero que tenham gostado do post, qualquer feedback será muito bem vindo.\u003cbr\u003e\nSe tiverem algo a acrescentar, comentem ai em baixo :)\u003c/p\u003e\n","metaData":{"layout":"post","title":"ES6 - Let, Const \u0026 Blocks","slug":"ES6-let-const-blocks","description":"Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo.","date":"2016-03-27 16:13:43 -0300","language":"Brazilian Portuguese","excerpt":"Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo.\n\nLista dos assuntos que irei abordar no post:\n\n- Let\n- Const\n- Blocks\n- TDZ\n","tags":["es6","js"],"categories":["ES6 - O que mudou?"]},"slug":"ES6-let-const-blocks","build":true}},"page":"/post","pathname":"/post","query":{"date":"27 Mar 2016","post":"\u003cp\u003eFala galera, nesse post eu vou falar um pouco sobre a \u0026quot;nova\u0026quot; versão do JavaScript (ES6).\u003c/p\u003e\n\u003cp\u003eDigo \u0026quot;nova\u0026quot; (entre aspas) porque a especificação dela foi aprovada no ano passado (2015), e já tem muitos browsers que suportam boa parte de suas funcionalidades, mas ainda vejo muita gente com dúvidas sobre ela.\u003c/p\u003e\n\u003cp\u003eEsse post será parte de uma série de posts chamada \u0026quot;ES6 - O que mudou?\u0026quot;, ela será uma versão simplificada do primeiro tópico de uma talk que eu dei onde eu trabalho, quem quiser ver, é só acessar os \u003ca href=\"http://www.slideshare.net/Hugeinc/what-is-new-on-es6\"\u003eslides\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eO objetivo é escrever posts pequenos e com bastante exemplos.\u003c/p\u003e\n\u003cp\u003eLista dos assuntos que irei abordar no post:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLet\u003c/li\u003e\n\u003cli\u003eConst\u003c/li\u003e\n\u003cli\u003eBlocks\u003c/li\u003e\n\u003cli\u003eTDZ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eLet \u0026amp; Blocks\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003elet\u003c/code\u003e permite que você defina uma variável limitada pelo escopo do bloco \u003ccode\u003e{}\u003c/code\u003e de onde foi declarada.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eDiferente de \u003ccode\u003evar\u003c/code\u003e, que é limitada ao escopo de sua função.\u003c/p\u003e\n\u003cp\u003eAnteriormente, no javascript, somente as funções criam escopo, diferente de outras linguagens, que criam escopo dentro de blocos, no ES6 com \u003ccode\u003elet\u003c/code\u003e isso muda, e passamos a ter escopo nos blocos também.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e version = \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// Declara \"version\" dentro da função IIFE\u003c/span\u003e\n\n  {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e version = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// Declara \"version\" dentro do bloco \"{}\"\u003c/span\u003e\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(version); \u003cspan class=\"hljs-comment\"\u003e// \u0026gt; 'ES6'\u003c/span\u003e\n  }\n\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(version); \u003cspan class=\"hljs-comment\"\u003e// \u0026gt; 'ES5'\u003c/span\u003e\n})();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOk, vamos recapitular o que aconteceu acima\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDentro da IIFE declaramos uma variável com o nome \u003ccode\u003eversion\u003c/code\u003e limitada ao escopo da função\u003c/li\u003e\n\u003cli\u003eEm seguida temos um bloco, sem nenhuma condição ou loop, um bloco puro (sim, podemos fazer isso em JS)\u003c/li\u003e\n\u003cli\u003eDentro desse bloco, declaramos outra variável \u003ccode\u003eversion\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eLogamos a variável \u003ccode\u003eversion\u003c/code\u003e (declarada dentro do bloco)\u003c/li\u003e\n\u003cli\u003eFora do bloco, logamos a variável \u003ccode\u003eversion\u003c/code\u003e (que será a que foi declarada no início da função)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eOu seja, as duas variáveis não conflitaram, porque elas estão declaradas em escopos diferentes, isso graças ao \u003ccode\u003elet\u003c/code\u003e, caso nós usássemos \u003ccode\u003evar\u003c/code\u003e para declarar a segunda variável chamada version, a variável anterior seria sobrescrita.\u003c/p\u003e\n\u003cp\u003eUma coisa bacana que \u003ccode\u003elet\u003c/code\u003e resolve, é quando você quer fazer um loop fazendo operações assíncronas para cada iteração (adicionando uma callback).\u003c/p\u003e\n\u003cp\u003eComo assim?\u003c/p\u003e\n\u003cp\u003eBom, quando usamos um \u003ccode\u003efor\u003c/code\u003e loop adicionando callbacks e usando a variável \u003ccode\u003ei\u003c/code\u003e de alguma forma em cada callback, temos um problema, a variável \u003ccode\u003ei\u003c/code\u003e não será a mesma quando as operações assíncronas acabarem, porque todas as callbacks tem a mesma referência de \u003ccode\u003ei\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo usando \u003ccode\u003evar\u003c/code\u003e:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e versions = [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e];\n\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, n = versions.length; i \u0026lt; n; i++) {\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(i);\n    getNewName(versions[i], \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003enewName\u003c/span\u003e) \u003c/span\u003e{\n      versions[i] = newName;\n      \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(versions, i, version[i]);\n    });\n  }\n})();\n\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eVamos recapitular de novo?\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eTenho um array com versões do javascript\u003c/li\u003e\n\u003cli\u003ePara cada item do array, eu chamo o método \u003ccode\u003egetNewName\u003c/code\u003e passando a versão e uma callback (pois ele é assíncrono)\u003c/li\u003e\n\u003cli\u003eDentro da callback eu uso a variável \u003ccode\u003ei\u003c/code\u003e para acessar o item desejado\u003c/li\u003e\n\u003cli\u003eDá tudo errado\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eA referência da variável \u003ccode\u003ei\u003c/code\u003e é a mesma, para todas as operações dentro do \u003ccode\u003efor\u003c/code\u003e, ou seja, como a callback será executada depois de um certo período de tempo, o valor de \u003ccode\u003ei\u003c/code\u003e não será o mesmo, no nosso caso, ele terá o valor \u003ccode\u003e4\u003c/code\u003e porque estamos aumentando seu valor a cada iteração.\u003c/p\u003e\n\u003cp\u003eEntão, o que acontece quando usamos \u003ccode\u003elet\u003c/code\u003e ao invés de \u003ccode\u003evar\u003c/code\u003e?\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo usando \u003ccode\u003elet\u003c/code\u003e:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e versions = [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e];\n\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, n = versions.length; i \u0026lt; n; i++) {\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(i);\n    getNewName(versions[i], \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003enewName\u003c/span\u003e) \u003c/span\u003e{\n      versions[i] = newName;\n      \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(versions, i, version[i]);\n    });\n  }\n})();\n\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es7'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es8'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e\n\u0026gt; [\u003cspan class=\"hljs-string\"\u003e'es5'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2015'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2016'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'es2017'\u003c/span\u003e] \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'es2017'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRecapitulando...\u003c/p\u003e\n\u003cp\u003eEntão, como disse no exemplo com \u003ccode\u003evar\u003c/code\u003e, a referência da variável \u003ccode\u003ei\u003c/code\u003e é a mesma para todas as operações dentro do \u003ccode\u003efor\u003c/code\u003e, porque o escopo dela é a função, com \u003ccode\u003elet\u003c/code\u003e, o escopo da variável \u003ccode\u003ei\u003c/code\u003e é o bloco, logo, para cada iteração feita, a referência de \u003ccode\u003ei\u003c/code\u003e será diferente, por isso mesmo executando uma callback depois de um certo período de tempo usando \u003ccode\u003ei\u003c/code\u003e não tem problema, pois a referência é única para cada iteração.\u003c/p\u003e\n\u003ch2\u003eConst\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003eConst\u003c/code\u003e declara uma constante, uma referência de somente leitura para um valor alocado em memória.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOu seja, diferente de \u003ccode\u003evar\u003c/code\u003e ou \u003ccode\u003elet\u003c/code\u003e, se tentarmos alterar a referência que a \u003ccode\u003econst\u003c/code\u003e declarada está guardando, ganhamos um \u003ccode\u003eTypeError\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo alterando a referência:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n\n  VERSION = \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e;\n})();\n\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'Uncaught TypeError: Assignment to constant variable'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eO fato dela ser uma const`, não quer dizer que o valor que ela guarda é imutável!\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIhalá, como assim o.O?\u003c/p\u003e\n\u003cp\u003eCom um exemplo deve ficar fácil de entender\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo alterando o valor:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSIONS = {\n    \u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e\n  };\n\n  VERSIONS.es6 = \u003cspan class=\"hljs-string\"\u003e'ES2015'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSIONS);\n})();\n\n\u0026gt; {\u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2015'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEntão, acho que agora ficou claro, o erro só ocorre quando você tenta substituir a referência que uma \u003ccode\u003econst\u003c/code\u003e está guardando.\u003c/p\u003e\n\u003cp\u003eMais um exemplo de erro, dessa vez usando um objeto igual no exemplo anterior.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo alterando a referência:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSIONS = {\n    \u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e\n  };\n\n  VERSIONS = {\n    \u003cspan class=\"hljs-attr\"\u003ees6\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2015'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees7\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2016'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ees8\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'ES2017'\u003c/span\u003e\n  };\n})();\n\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'Uncaught TypeError: Assignment to constant variable'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eConst \u0026amp; Blocks\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003econst\u003c/code\u003e é limitada ao escopo do bloco \u003ccode\u003e{}\u003c/code\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIsso mesmo, \u003ccode\u003econst\u003c/code\u003e se comporta igual ao \u003ccode\u003elet\u003c/code\u003e quando se trata do escopo em que foram declaradas.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e;\n  \n  {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n    \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSION);\n  }\n\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSION);\n})();\n\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e\n\u0026gt; \u003cspan class=\"hljs-string\"\u003e'ES5'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eTDZ (Temporal Dead Zone)\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003elet\u003c/code\u003e e \u003ccode\u003econst\u003c/code\u003e farão o \u0026quot;hoist\u0026quot; do valor para o topo do bloco. Porém, usa-los antes da linha de código onde foram declarados, causa um \u003ccode\u003eReferenceError\u003c/code\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOs valores estão no \u0026quot;temporal dead zone\u0026quot;, que existe do começo do bloco \u003ccode\u003e{}\u003c/code\u003e até a linha onde ocorre a declaração do valor (usando \u003ccode\u003econst\u003c/code\u003e ou \u003ccode\u003elet\u003c/code\u003e).\u003c/p\u003e\n\u003cp\u003eCom \u003ccode\u003evar\u003c/code\u003e, a variável sempre é declarada como \u003ccode\u003eundefined\u003c/code\u003e no início da função, logo não temos o temporal dead zone quando usamos \u003ccode\u003evar\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eExemplo:\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIIFE\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) \u003c/span\u003e{\n\u003cspan class=\"hljs-meta\"\u003e  'use strict'\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(version); \u003cspan class=\"hljs-comment\"\u003e// undefined\u003c/span\u003e\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(letVersion);\n  \u003cspan class=\"hljs-comment\"\u003e// Uncaught ReferenceError: letVersion is not defined\u003c/span\u003e\n  \u003cspan class=\"hljs-built_in\"\u003econsole\u003c/span\u003e.log(VERSION);\n  \u003cspan class=\"hljs-comment\"\u003e// Uncaught ReferenceError: VERSION is not defined\u003c/span\u003e\n\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e version = \u003cspan class=\"hljs-string\"\u003e'es6'\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e letVersion = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e VERSION = \u003cspan class=\"hljs-string\"\u003e'ES6'\u003c/span\u003e;\n})();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEntão, recapitulando esse último exemplo.\u003c/p\u003e\n\u003cp\u003eCom variáveis declaradas com \u003ccode\u003evar\u003c/code\u003e, não importa em qual momento da função ela está sendo declarada, o javascript fará a declaração dela como \u003ccode\u003eundefined\u003c/code\u003e no ínicio da função.\u003c/p\u003e\n\u003cp\u003eCom \u003ccode\u003elet\u003c/code\u003e, ele faz o hoisting para o início do bloco, porém não permite você acessar a variável até a sua declaração, mesmo sem atribuição alguma, por exemplo:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e version;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eE com \u003ccode\u003econst\u003c/code\u003e, funciona da mesma forma que o \u003ccode\u003elet\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eBom galera, espero que tenham gostado do post, qualquer feedback será muito bem vindo.\u003cbr\u003e\nSe tiverem algo a acrescentar, comentem ai em baixo :)\u003c/p\u003e\n","metaData":{"layout":"post","title":"ES6 - Let, Const \u0026 Blocks","slug":"ES6-let-const-blocks","description":"Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo.","date":"2016-03-27 16:13:43 -0300","language":"Brazilian Portuguese","excerpt":"Aprenda a diferença das novas variáveis no ES6 e o que mudou para o Javascript antigo.\n\nLista dos assuntos que irei abordar no post:\n\n- Let\n- Const\n- Blocks\n- TDZ\n","tags":["es6","js"],"categories":["ES6 - O que mudou?"]},"slug":"ES6-let-const-blocks","build":true},"buildId":"ec771e22-ba2e-43ea-b873-64124f96755f","assetPrefix":"","nextExport":true,"err":null,"chunks":["components_social_share_0a49c1be05a44c2c22400be9bd51a7a9"]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }

          false
        </script><script async="" id="__NEXT_PAGE__/post" src="/_next/ec771e22-ba2e-43ea-b873-64124f96755f/page/post.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/ec771e22-ba2e-43ea-b873-64124f96755f/page/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/ec771e22-ba2e-43ea-b873-64124f96755f/page/_error.js"></script><script async="" src="/_next/webpack/chunks/components_social_share_0a49c1be05a44c2c22400be9bd51a7a9-ba5984ee65adff24ec55.js"></script><script src="/_next/static/commons/main-eb8ad50e20ad6af21250.js" async=""></script></body></html>